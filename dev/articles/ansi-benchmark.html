<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ANSI function benchmarks • cli</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ANSI function benchmarks">
<meta name="robots" content="noindex">
<script defer data-domain="cli.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cli</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">3.6.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/faq.html">FAQ</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/semantic-cli.html">Building a Semantic CLI</a></li>
    <li><a class="dropdown-item" href="../articles/usethis-ui.html">From usethis::ui functions to cli</a></li>
    <li><a class="dropdown-item" href="../articles/pluralization.html">cli pluralization</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Progress bars</h6></li>
    <li><a class="dropdown-item" href="../articles/progress.html">Introduction to progress bars in cli</a></li>
    <li><a class="dropdown-item" href="../articles/progress-advanced.html">Advanced cli progress bars</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Customization</h6></li>
    <li><a class="dropdown-item" href="../articles/palettes.html">cli color palettes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/cli/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>ANSI function benchmarks</h1>
                        <h4 data-toc-skip class="author">Gábor
Csárdi</h4>
            
            <h4 data-toc-skip class="date">2025-02-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/cli/blob/main/vignettes/ansi-benchmark.Rmd" class="external-link"><code>vignettes/ansi-benchmark.Rmd</code></a></small>
      <div class="d-none name"><code>ansi-benchmark.Rmd</code></div>
    </div>

    
    
<style type="text/css" scoped>
PRE.fansi SPAN {padding-top: .25em; padding-bottom: .25em};
</style>
<p>$output function (x, options) { if (class == “output” &amp;&amp;
output_asis(x, options)) return(x) hook.t(x, options[[paste0(“attr.”,
class)]], options[[paste0(“class.”, class)]]) } &lt;bytecode:
0x559f46116768&gt; &lt;environment: 0x559f46b676a0&gt;</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Often we can use the corresponding base R function as a baseline. We
also compare to the fansi package, where it is possible.</p>
</div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>In cli the typical use case is short string scalars, but we run some
benchmarks longer strings and string vectors as well.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cli.r-lib.org">cli</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/brodieG/fansi" class="external-link">fansi</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cli.unicode <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cli.num_colors <span class="op">=</span> <span class="fl">256</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ansi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_inline.html">format_inline</a></span><span class="op">(</span></span>
<span>  <span class="st">"{col_green(symbol$tick)} {.code print(x)} {.emph emphasised}"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plain</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vec_plain</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">vec_ansi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">vec_plain6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">vec_ansi6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">6</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">txt_plain</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">vec_plain</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span>
<span><span class="va">txt_ansi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">vec_ansi</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span>
<span>  <span class="st">"\U0001f477\u200d\u2640\ufe0f"</span>,</span>
<span>  <span class="st">"\U0001f477\U0001f3fb"</span>,</span>
<span>  <span class="st">"\U0001f477\u200d\u2640\ufe0f"</span>,</span>
<span>  <span class="st">"\U0001f477\U0001f3fb"</span>,</span>
<span>  <span class="st">"\U0001f477\U0001f3ff\u200d\u2640\ufe0f"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">vec_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">uni</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">txt_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">vec_uni</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="ansi-functions">ANSI functions<a class="anchor" aria-label="anchor" href="#ansi-functions"></a>
</h2>
<div class="section level3">
<h3 id="ansi_align">
<code>ansi_align()</code><a class="anchor" aria-label="anchor" href="#ansi_align"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">ansi</span>, width <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>, </span>
<span>  base  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 3 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi         43.6µs     47µs    20718.    99.3KB     18.9</span></span>
<span><span class="co">#&gt; 2 plain        43.7µs   46.9µs    20584.        0B     19.7</span></span>
<span><span class="co">#&gt; 3 base         11.3µs   12.4µs    78386.    48.4KB     15.7</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">ansi</span>, width <span class="op">=</span> <span class="fl">20</span>, align <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span>, align <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span>, </span>
<span>  base  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span>, justify <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 3 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi         45.4µs   48.7µs    19850.        0B     21.1</span></span>
<span><span class="co">#&gt; 2 plain        45.2µs   48.4µs    19914.        0B     21.3</span></span>
<span><span class="co">#&gt; 3 base         13.2µs   14.4µs    67734.        0B     20.3</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_chartr">
<code>ansi_chartr()</code><a class="anchor" aria-label="anchor" href="#ansi_chartr"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_chartr</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"XYZ"</span>, <span class="va">ansi</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_chartr</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"XYZ"</span>, <span class="va">plain</span><span class="op">)</span>,</span>
<span>  base  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">chartr</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"XYZ"</span>, <span class="va">plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 3 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi       108.11µs 114.34µs     8521.   75.06KB     14.6</span></span>
<span><span class="co">#&gt; 2 plain       85.27µs  90.36µs    10756.    8.73KB     14.6</span></span>
<span><span class="co">#&gt; 3 base         1.88µs   2.01µs   479658.        0B      0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_columns">
<code>ansi_columns()</code><a class="anchor" aria-label="anchor" href="#ansi_columns"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_columns.html">ansi_columns</a></span><span class="op">(</span><span class="va">vec_ansi6</span>, width <span class="op">=</span> <span class="fl">120</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_columns.html">ansi_columns</a></span><span class="op">(</span><span class="va">vec_plain6</span>, width <span class="op">=</span> <span class="fl">120</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi          326µs    349µs     2822.   33.17KB     19.0</span></span>
<span><span class="co">#&gt; 2 plain         329µs    348µs     2844.    1.09KB     19.1</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_has_any">
<code>ansi_has_any()</code><a class="anchor" aria-label="anchor" href="#ansi_has_any"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          5.58µs    6.1µs   158560.     9.2KB     15.9</span></span>
<span><span class="co">#&gt;  2 fansi_ansi       29.84µs  32.96µs    29457.    4.18KB     23.6</span></span>
<span><span class="co">#&gt;  3 cli_plain         5.53µs   6.06µs   159432.        0B     31.9</span></span>
<span><span class="co">#&gt;  4 fansi_plain      29.36µs  32.65µs    29855.      688B     23.9</span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi      6.96µs   7.36µs   132546.      448B     26.5</span></span>
<span><span class="co">#&gt;  6 fansi_vec_ansi   39.01µs  41.38µs    23445.    5.02KB     18.8</span></span>
<span><span class="co">#&gt;  7 cli_vec_plain     7.57µs   7.96µs   122630.      448B     24.5</span></span>
<span><span class="co">#&gt;  8 fansi_vec_plain  37.58µs  39.72µs    24332.    5.02KB     19.5</span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi      5.56µs   5.93µs   162671.        0B     32.5</span></span>
<span><span class="co">#&gt; 10 fansi_txt_ansi    29.8µs  31.78µs    30653.      688B     21.5</span></span>
<span><span class="co">#&gt; 11 cli_txt_plain     6.38µs   6.78µs   143638.        0B     28.7</span></span>
<span><span class="co">#&gt; 12 fansi_txt_plain  37.37µs  39.63µs    24608.    5.02KB     19.7</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_html">
<code>ansi_html()</code><a class="anchor" aria-label="anchor" href="#ansi_html"></a>
</h3>
<p>This is typically used with longer text.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_html.html">ansi_html</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/sgr_to_html.html" class="external-link">sgr_to_html</a></span><span class="op">(</span><span class="va">txt_ansi</span>, classes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          60.3µs   62.4µs    15742.    22.7KB     8.19</span></span>
<span><span class="co">#&gt; 2 fansi       112.5µs  116.2µs     8364.    55.3KB     8.20</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_nchar">
<code>ansi_nchar()</code><a class="anchor" aria-label="anchor" href="#ansi_nchar"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          6.71µs   7.24µs   134230.        0B    26.9 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       89.57µs  94.03µs    10334.   38.84KB    16.7 </span></span>
<span><span class="co">#&gt;  3 base_ansi       901.05ns    951ns  1002169.        0B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain         6.62µs    7.2µs   135079.        0B    27.0 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      89.27µs   93.8µs    10300.      688B    16.8 </span></span>
<span><span class="co">#&gt;  6 base_plain      822.01ns 862.17ns  1086633.        0B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi     29.16µs  30.29µs    32354.      448B     6.47</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi  109.56µs 114.69µs     8366.    5.02KB    12.5 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi    18.47µs  18.57µs    53049.      448B     0   </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain    28.06µs  28.82µs    33928.      448B     6.79</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 100.68µs 105.32µs     9180.    5.02KB    14.7 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain   10.84µs   10.9µs    90165.      448B     0   </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi     29.25µs  29.99µs    32824.        0B     6.57</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi  102.64µs 107.05µs     9101.      688B    14.6 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi     18.2µs  18.26µs    53969.        0B     0   </span></span>
<span><span class="co">#&gt; 16 cli_txt_plain    27.37µs  28.17µs    34650.        0B     6.93</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  91.88µs  96.38µs    10038.      688B    16.8 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain   11.05µs  11.11µs    88770.        0B     0</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          8.32µs   8.96µs   108175.        0B    32.5 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       90.78µs  95.27µs    10205.      688B    16.8 </span></span>
<span><span class="co">#&gt;  3 base_ansi         1.22µs   1.26µs   749202.        0B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain         8.34µs   8.99µs   108472.        0B    21.7 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      89.84µs  94.26µs    10313.      688B    17.8 </span></span>
<span><span class="co">#&gt;  6 base_plain      990.93ns   1.04µs   917958.        0B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi      34.3µs  35.25µs    27401.      448B     5.48</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi  118.45µs 123.14µs     7890.    5.02KB    12.5 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi    43.03µs  44.16µs    22434.      448B     0   </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain    33.33µs  34.06µs    28843.      448B     8.66</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 109.03µs 113.65µs     8549.    5.02KB    12.5 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain   22.95µs   23.5µs    41831.      448B     0   </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi      34.8µs  35.46µs    27615.        0B     8.29</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi   109.4µs 114.43µs     8512.      688B    12.5 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi    45.57µs     47µs    21105.        0B     0   </span></span>
<span><span class="co">#&gt; 16 cli_txt_plain    32.86µs  33.64µs    29209.        0B     8.77</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  99.28µs 104.05µs     9383.      688B    14.6 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain   24.77µs  25.31µs    39069.        0B     0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_simplify">
<code>ansi_simplify()</code><a class="anchor" aria-label="anchor" href="#ansi_simplify"></a>
</h3>
<p>Nothing to compare here.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi      <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain     <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression         min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt;    &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli_ansi        6.54µs   7.04µs   138397.        0B    27.7 </span></span>
<span><span class="co">#&gt; 2 cli_plain       6.05µs    6.6µs   147624.        0B    29.5 </span></span>
<span><span class="co">#&gt; 3 cli_vec_ansi    32.2µs  33.44µs    29481.      848B     2.95</span></span>
<span><span class="co">#&gt; 4 cli_vec_plain  10.17µs  10.79µs    88547.      848B    17.7 </span></span>
<span><span class="co">#&gt; 5 cli_txt_ansi   30.83µs  31.75µs    31003.        0B     3.10</span></span>
<span><span class="co">#&gt; 6 cli_txt_plain   7.03µs   7.56µs   128965.        0B    25.8</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strip">
<code>ansi_strip()</code><a class="anchor" aria-label="anchor" href="#ansi_strip"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          11.7µs   12.3µs    78731.        0B     31.5</span></span>
<span><span class="co">#&gt;  2 fansi_ansi        27.7µs   29.5µs    33004.    7.24KB     23.1</span></span>
<span><span class="co">#&gt;  3 cli_plain         11.6µs   12.2µs    79660.        0B     23.9</span></span>
<span><span class="co">#&gt;  4 fansi_plain       27.3µs   29.1µs    33373.      688B     26.7</span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi      20.8µs   21.8µs    44801.      848B     13.4</span></span>
<span><span class="co">#&gt;  6 fansi_vec_ansi    52.7µs   55.3µs    17600.    5.41KB     14.8</span></span>
<span><span class="co">#&gt;  7 cli_vec_plain     14.3µs   15.1µs    63495.      848B     19.1</span></span>
<span><span class="co">#&gt;  8 fansi_vec_plain   36.1µs   38.3µs    25411.    4.59KB     17.8</span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi      20.1µs   21.2µs    44170.        0B     17.7</span></span>
<span><span class="co">#&gt; 10 fansi_txt_ansi    43.6µs   45.8µs    20938.    5.12KB     14.7</span></span>
<span><span class="co">#&gt; 11 cli_txt_plain     12.3µs   13.1µs    74051.        0B     22.2</span></span>
<span><span class="co">#&gt; 12 fansi_txt_plain   28.5µs   30.5µs    31718.      688B     25.4</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strsplit">
<code>ansi_strsplit()</code><a class="anchor" aria-label="anchor" href="#ansi_strsplit"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi        144.99µs 152.36µs     6393.  104.34KB    19.0 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi      125.44µs 133.85µs     7198.  106.35KB    19.6 </span></span>
<span><span class="co">#&gt;  3 base_ansi         3.96µs   4.27µs   229090.      224B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain       143.29µs 149.85µs     6522.    8.09KB    18.9 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      123.1µs 129.64µs     7535.    9.62KB    19.0 </span></span>
<span><span class="co">#&gt;  6 base_plain        3.56µs   3.83µs   252006.        0B    25.2 </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi      7.54ms   7.74ms      125.  823.77KB    25.0 </span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi    1.02ms   1.06ms      894.  846.81KB    17.3 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi   156.69µs  161.8µs     6075.    22.7KB     2.03</span></span>
<span><span class="co">#&gt; 10 cli_vec_plain     7.44ms   7.61ms      131.  823.77KB    26.1 </span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 967.86µs   1.01ms      980.  845.98KB    19.8 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain  106.58µs 110.35µs     8750.      848B     2.01</span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi      3.34ms   3.38ms      295.    63.6KB     2.02</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi    1.55ms   1.58ms      631.   35.05KB     2.02</span></span>
<span><span class="co">#&gt; 15 base_txt_ansi   134.95µs  142.8µs     6976.   18.47KB     2.02</span></span>
<span><span class="co">#&gt; 16 cli_txt_plain     2.48ms   2.52ms      390.    63.6KB     0   </span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain 518.68µs 535.85µs     1849.    30.6KB     6.15</span></span>
<span><span class="co">#&gt; 18 base_txt_plain   86.58µs  88.87µs    10997.   11.05KB     2.02</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strtrim">
<code>ansi_strtrim()</code><a class="anchor" aria-label="anchor" href="#ansi_strtrim"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi         98.54µs 104.06µs     9279.   33.84KB     21.1</span></span>
<span><span class="co">#&gt;  2 fansi_ansi       53.21µs   57.1µs    16898.   31.43KB     21.4</span></span>
<span><span class="co">#&gt;  3 base_ansi         1.03µs   1.08µs   835350.     4.2KB     83.5</span></span>
<span><span class="co">#&gt;  4 cli_plain        96.12µs 101.67µs     9455.        0B     21.1</span></span>
<span><span class="co">#&gt;  5 fansi_plain      52.61µs  56.12µs    17250.      872B     22.0</span></span>
<span><span class="co">#&gt;  6 base_plain      971.02ns      1µs   949192.        0B      0  </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi    222.36µs 230.42µs     4214.   16.73KB     10.4</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi  119.84µs  123.8µs     7927.    5.59KB     10.3</span></span>
<span><span class="co">#&gt;  9 base_vec_ansi    35.42µs  36.12µs    27408.      848B      0  </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain   180.47µs 187.29µs     5174.   16.73KB     12.6</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 117.53µs 121.81µs     8047.    5.59KB     12.6</span></span>
<span><span class="co">#&gt; 12 base_vec_plain   30.01µs  30.57µs    31859.      848B      0  </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi     106.7µs 111.33µs     8776.        0B     19.0</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi   52.83µs  56.35µs    17167.      872B     23.4</span></span>
<span><span class="co">#&gt; 15 base_txt_ansi     1.06µs    1.1µs   867461.        0B      0  </span></span>
<span><span class="co">#&gt; 16 cli_txt_plain    96.81µs 102.03µs     9560.        0B     21.1</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  52.12µs  55.96µs    17381.      872B     23.4</span></span>
<span><span class="co">#&gt; 18 base_txt_plain  981.03ns   1.01µs   938449.        0B      0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strwrap">
<code>ansi_strwrap()</code><a class="anchor" aria-label="anchor" href="#ansi_strwrap"></a>
</h3>
<p>This function is most useful for longer text, but it is often called
for short text in cli, so it makes sense to benchmark that as well.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi        321.46µs 334.94µs    2941.         0B     18.9</span></span>
<span><span class="co">#&gt;  2 fansi_ansi        95.2µs 101.69µs    9549.    97.33KB     21.2</span></span>
<span><span class="co">#&gt;  3 base_ansi        37.53µs  40.05µs   23672.         0B     19.0</span></span>
<span><span class="co">#&gt;  4 cli_plain       200.09µs 209.66µs    4633.         0B     18.9</span></span>
<span><span class="co">#&gt;  5 fansi_plain      94.92µs 100.81µs    9582.       872B     21.2</span></span>
<span><span class="co">#&gt;  6 base_plain        30.5µs  32.32µs   29828.         0B     17.9</span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi      33.3ms  33.53ms      29.8    2.48KB     67.0</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi  237.97µs 246.18µs    4018.     7.25KB     10.3</span></span>
<span><span class="co">#&gt;  9 base_vec_ansi     2.21ms   2.28ms     431.    48.18KB     24.8</span></span>
<span><span class="co">#&gt; 10 cli_vec_plain     20.7ms  20.83ms      47.9    2.48KB     25.5</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 200.57µs 207.53µs    4678.     6.42KB     14.6</span></span>
<span><span class="co">#&gt; 12 base_vec_plain    1.61ms   1.66ms     598.     47.4KB     22.1</span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi     26.22ms  26.44ms      36.8  507.59KB     10.5</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi   230.1µs 238.34µs    4135.     6.77KB     10.3</span></span>
<span><span class="co">#&gt; 15 base_txt_ansi     1.21ms   1.26ms     787.   582.06KB     18.3</span></span>
<span><span class="co">#&gt; 16 cli_txt_plain     1.19ms   1.22ms     805.   369.84KB     15.5</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain 182.84µs 189.73µs    5120.     2.51KB     12.5</span></span>
<span><span class="co">#&gt; 18 base_txt_plain   825.2µs  860.7µs    1148.   367.31KB     20.4</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_substr">
<code>ansi_substr()</code><a class="anchor" aria-label="anchor" href="#ansi_substr"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          6.52µs   7.08µs   135434.   24.83KB    27.1 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       77.13µs  82.21µs    11819.   28.48KB    21.2 </span></span>
<span><span class="co">#&gt;  3 base_ansi       991.98ns   1.04µs   897813.        0B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain         6.42µs      7µs   137683.        0B    41.3 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      76.98µs  81.92µs    11731.    1.98KB    19.1 </span></span>
<span><span class="co">#&gt;  6 base_plain      962.06ns   1.01µs   900937.        0B    90.1 </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi     27.19µs  28.33µs    34691.     1.7KB     6.94</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi  113.07µs 117.94µs     8201.    8.86KB    14.8 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi     6.38µs   6.52µs   150342.      848B     0   </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain    22.93µs  23.85µs    41081.     1.7KB     8.22</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 106.41µs 112.25µs     8636.    8.86KB    14.8 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain    6.03µs   6.13µs   159788.      848B    16.0 </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi      6.44µs   6.89µs   140679.        0B    28.1 </span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi   75.82µs  79.59µs    12215.    1.98KB    21.2 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi      6.4µs   6.46µs   151510.        0B     0   </span></span>
<span><span class="co">#&gt; 16 cli_txt_plain      7.2µs   7.72µs   115615.        0B    23.1 </span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  76.17µs  80.52µs    12123.    1.98KB    21.3 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain    4.06µs   4.12µs   237202.        0B    23.7</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_tolower-ansi_toupper">
<code>ansi_tolower()</code> , <code>ansi_toupper()</code><a class="anchor" aria-label="anchor" href="#ansi_tolower-ansi_toupper"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression          min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;     &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi       101.58µs 106.29µs    9058.    11.88KB    14.6 </span></span>
<span><span class="co">#&gt;  2 base_ansi        1.34µs   1.39µs  700523.         0B    70.1 </span></span>
<span><span class="co">#&gt;  3 cli_plain       81.62µs  84.91µs   11452.     8.73KB    14.6 </span></span>
<span><span class="co">#&gt;  4 base_plain       1.01µs   1.06µs  912780.         0B     0   </span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi     3.97ms   4.04ms     246.   838.77KB    28.4 </span></span>
<span><span class="co">#&gt;  6 base_vec_ansi   79.16µs  79.62µs   12441.       848B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_plain    2.25ms   2.31ms     428.    816.9KB    30.3 </span></span>
<span><span class="co">#&gt;  8 base_vec_plain  46.45µs  47.31µs   20918.       848B     0   </span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi    14.71ms  14.82ms      66.5  114.42KB     6.65</span></span>
<span><span class="co">#&gt; 10 base_txt_ansi    79.9µs  80.21µs   12352.         0B     0   </span></span>
<span><span class="co">#&gt; 11 cli_txt_plain  264.88µs 273.76µs    3576.    18.16KB     4.05</span></span>
<span><span class="co">#&gt; 12 base_txt_plain  44.51µs  45.49µs   21926.         0B     0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_trimws">
<code>ansi_trimws()</code><a class="anchor" aria-label="anchor" href="#ansi_trimws"></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression          min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;     &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi         72.6µs   76.4µs    12676.        0B    21.1 </span></span>
<span><span class="co">#&gt;  2 base_ansi        16.2µs   17.4µs    55582.        0B    16.7 </span></span>
<span><span class="co">#&gt;  3 cli_plain        71.9µs   75.8µs    12716.        0B    21.0 </span></span>
<span><span class="co">#&gt;  4 base_plain       16.1µs   17.4µs    55639.        0B    22.3 </span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi    171.8µs  178.8µs     5475.     7.2KB     8.26</span></span>
<span><span class="co">#&gt;  6 base_vec_ansi      57µs   61.7µs    15935.    1.66KB     6.12</span></span>
<span><span class="co">#&gt;  7 cli_vec_plain     159µs  164.1µs     5959.     7.2KB    10.4 </span></span>
<span><span class="co">#&gt;  8 base_vec_plain   50.4µs   55.3µs    17724.    1.66KB     6.12</span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi    148.9µs  154.2µs     6351.        0B    10.3 </span></span>
<span><span class="co">#&gt; 10 base_txt_ansi    41.3µs   42.8µs    22877.        0B     9.15</span></span>
<span><span class="co">#&gt; 11 cli_txt_plain   133.4µs  137.7µs     7112.        0B    12.0 </span></span>
<span><span class="co">#&gt; 12 base_txt_plain   34.9µs   36.2µs    26803.        0B     8.04</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="utf-8-functions">UTF-8 functions<a class="anchor" aria-label="anchor" href="#utf-8-functions"></a>
</h2>
<div class="section level3">
<h3 id="utf8_nchar">
<code>utf8_nchar()</code><a class="anchor" aria-label="anchor" href="#utf8_nchar"></a>
</h3>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">uni</span>, type <span class="op">=</span> <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, type <span class="op">=</span> <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, type <span class="op">=</span> <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli           8.1µs   8.69µs   112387.        0B    22.5 </span></span>
<span><span class="co">#&gt; 2 base          861ns 912.11ns  1028318.        0B     0   </span></span>
<span><span class="co">#&gt; 3 cli_vec      23.6µs  24.32µs    40402.      448B     8.08</span></span>
<span><span class="co">#&gt; 4 base_vec     11.5µs  11.73µs    83949.      448B     8.40</span></span>
<span><span class="co">#&gt; 5 cli_txt      23.8µs  24.44µs    40252.        0B     8.05</span></span>
<span><span class="co">#&gt; 6 base_txt     12.5µs  12.59µs    78224.        0B     0</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">uni</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">uni</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          7.96µs    8.6µs   113413.        0B    34.0 </span></span>
<span><span class="co">#&gt; 2 base         1.28µs   1.34µs   713799.        0B     0   </span></span>
<span><span class="co">#&gt; 3 cli_vec     28.89µs  29.79µs    33021.      448B     6.61</span></span>
<span><span class="co">#&gt; 4 base_vec    50.77µs  51.29µs    19258.      448B     0   </span></span>
<span><span class="co">#&gt; 5 cli_txt     29.39µs  30.25µs    32425.        0B     6.49</span></span>
<span><span class="co">#&gt; 6 base_txt    86.97µs   87.8µs    11283.        0B     2.01</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">uni</span>, type <span class="op">=</span> <span class="st">"codepoints"</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, type <span class="op">=</span> <span class="st">"codepoints"</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, type <span class="op">=</span> <span class="st">"codepoints"</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          8.46µs   9.15µs   105032.        0B    21.0 </span></span>
<span><span class="co">#&gt; 2 base       861.01ns 912.11ns  1013706.        0B   101.  </span></span>
<span><span class="co">#&gt; 3 cli_vec     19.46µs  20.26µs    48422.      448B     9.69</span></span>
<span><span class="co">#&gt; 4 base_vec    11.53µs  11.75µs    83615.      448B     0   </span></span>
<span><span class="co">#&gt; 5 cli_txt     20.16µs  20.92µs    46888.        0B    14.1 </span></span>
<span><span class="co">#&gt; 6 base_txt    12.49µs   12.6µs    78156.        0B     0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="utf8_substr">
<code>utf8_substr()</code><a class="anchor" aria-label="anchor" href="#utf8_substr"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="https://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_substr.html">utf8_substr</a></span><span class="op">(</span><span class="va">uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_substr.html">utf8_substr</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_substr.html">utf8_substr</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          6.16µs   6.66µs   146069.    22.1KB    43.8 </span></span>
<span><span class="co">#&gt; 2 base            1µs   1.06µs   900711.        0B     0   </span></span>
<span><span class="co">#&gt; 3 cli_vec     28.79µs  29.64µs    33193.     1.7KB     6.64</span></span>
<span><span class="co">#&gt; 4 base_vec     7.76µs   8.04µs   122514.      848B     0   </span></span>
<span><span class="co">#&gt; 5 cli_txt       6.1µs   6.56µs   148323.        0B    44.5 </span></span>
<span><span class="co">#&gt; 6 base_txt      5.4µs   5.47µs   179186.        0B     0</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioninfo</span><span class="fu">::</span><span class="fu"><a href="https://sessioninfo.r-lib.org/reference/session_info.html" class="external-link">session_info</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; ─ Session info ──────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  setting  value</span></span>
<span><span class="co">#&gt;  version  R version 4.4.2 (2024-10-31)</span></span>
<span><span class="co">#&gt;  os       Ubuntu 24.04.1 LTS</span></span>
<span><span class="co">#&gt;  system   x86_64, linux-gnu</span></span>
<span><span class="co">#&gt;  ui       X11</span></span>
<span><span class="co">#&gt;  language en</span></span>
<span><span class="co">#&gt;  collate  C.UTF-8</span></span>
<span><span class="co">#&gt;  ctype    C.UTF-8</span></span>
<span><span class="co">#&gt;  tz       UTC</span></span>
<span><span class="co">#&gt;  date     2025-02-13</span></span>
<span><span class="co">#&gt;  pandoc   3.1.11 @ /opt/hostedtoolcache/pandoc/3.1.11/x64/ (via rmarkdown)</span></span>
<span><span class="co">#&gt;  quarto   NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ─ Packages ──────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  package     * version    date (UTC) lib source</span></span>
<span><span class="co">#&gt;  bench         1.1.4      2025-01-16 [1] RSPM</span></span>
<span><span class="co">#&gt;  bslib         0.9.0      2025-01-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  cachem        1.1.0      2024-05-16 [1] RSPM</span></span>
<span><span class="co">#&gt;  cli         * 3.6.4.9000 2025-02-13 [1] local</span></span>
<span><span class="co">#&gt;  codetools     0.2-20     2024-03-31 [3] CRAN (R 4.4.2)</span></span>
<span><span class="co">#&gt;  desc          1.4.3      2023-12-10 [1] RSPM</span></span>
<span><span class="co">#&gt;  digest        0.6.37     2024-08-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  evaluate      1.0.3      2025-01-10 [1] RSPM</span></span>
<span><span class="co">#&gt;  fansi       * 1.0.6      2023-12-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  fastmap       1.2.0      2024-05-15 [1] RSPM</span></span>
<span><span class="co">#&gt;  fs            1.6.5      2024-10-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  glue          1.8.0      2024-09-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  htmltools     0.5.8.1    2024-04-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  htmlwidgets   1.6.4      2023-12-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  jquerylib     0.1.4      2021-04-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  jsonlite      1.8.9      2024-09-20 [1] RSPM</span></span>
<span><span class="co">#&gt;  knitr         1.49       2024-11-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  lifecycle     1.0.4      2023-11-07 [1] RSPM</span></span>
<span><span class="co">#&gt;  magrittr      2.0.3      2022-03-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  pillar        1.10.1     2025-01-07 [1] RSPM</span></span>
<span><span class="co">#&gt;  pkgconfig     2.0.3      2019-09-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  pkgdown       2.1.1      2024-09-17 [1] any (@2.1.1)</span></span>
<span><span class="co">#&gt;  profmem       0.6.0      2020-12-13 [1] RSPM</span></span>
<span><span class="co">#&gt;  R6            2.6.0      2025-02-12 [1] RSPM</span></span>
<span><span class="co">#&gt;  ragg          1.3.3      2024-09-11 [1] RSPM</span></span>
<span><span class="co">#&gt;  rlang         1.1.5      2025-01-17 [1] RSPM</span></span>
<span><span class="co">#&gt;  rmarkdown     2.29       2024-11-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  sass          0.4.9      2024-03-15 [1] RSPM</span></span>
<span><span class="co">#&gt;  sessioninfo   1.2.3      2025-02-05 [1] any (@1.2.3)</span></span>
<span><span class="co">#&gt;  systemfonts   1.2.1      2025-01-20 [1] RSPM</span></span>
<span><span class="co">#&gt;  textshaping   1.0.0      2025-01-20 [1] RSPM</span></span>
<span><span class="co">#&gt;  tibble        3.2.1      2023-03-20 [1] RSPM</span></span>
<span><span class="co">#&gt;  utf8          1.2.4      2023-10-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  vctrs         0.6.5      2023-12-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  xfun          0.50       2025-01-07 [1] RSPM</span></span>
<span><span class="co">#&gt;  yaml          2.3.10     2024-07-26 [1] RSPM</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  [1] /home/runner/work/_temp/Library</span></span>
<span><span class="co">#&gt;  [2] /opt/R/4.4.2/lib/R/site-library</span></span>
<span><span class="co">#&gt;  [3] /opt/R/4.4.2/lib/R/library</span></span>
<span><span class="co">#&gt;  * ── Packages attached to the search path.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ─────────────────────────────────────────────────────────────────────</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer>
</body>
</html>
